{
  "metadata": {
    "version": "1.0",
    "description": "Example records based on enhanced_registry.yaml",
    "generated_at": "2024-01-01T00:00:00Z"
  },
  "records": [
    {
      "entity_type": "Dataset",
      "urn": "urn:li:dataset:(mysql,customers,PROD)",
      "key": {
        "platform": "mysql",
        "name": "customers",
        "env": "PROD"
      },
      "aspects": {
        "datasetProperties": {
          "type": "versioned",
          "description": "Customer information dataset containing user profiles and preferences",
          "customProperties": {
            "retention_days": 365,
            "sensitivity_level": "medium",
            "business_owner": "marketing_team"
          },
          "tags": ["customer", "profile", "marketing"],
          "externalUrl": "https://datahub.company.com/datasets/customers"
        },
        "schemaMetadata": {
          "type": "versioned",
          "schemaName": "customers_schema",
          "platform": "mysql",
          "version": "1.0",
          "fields": [
            {
              "fieldPath": "customer_id",
              "type": "INTEGER",
              "nullable": false,
              "description": "Unique customer identifier"
            },
            {
              "fieldPath": "first_name",
              "type": "VARCHAR(50)",
              "nullable": false,
              "description": "Customer first name"
            },
            {
              "fieldPath": "last_name",
              "type": "VARCHAR(50)",
              "nullable": false,
              "description": "Customer last name"
            },
            {
              "fieldPath": "email",
              "type": "VARCHAR(100)",
              "nullable": false,
              "description": "Customer email address"
            },
            {
              "fieldPath": "created_at",
              "type": "TIMESTAMP",
              "nullable": false,
              "description": "Account creation timestamp"
            }
          ],
          "primaryKeys": ["customer_id"],
          "foreignKeys": []
        },
        "ownership": {
          "type": "versioned",
          "owners": [
            {
              "owner": "urn:li:corpuser:john.doe",
              "type": "DATAOWNER",
              "source": "MANUAL"
            },
            {
              "owner": "urn:li:corpGroup:data_engineering",
              "type": "DELEGATE",
              "source": "MANUAL"
            }
          ],
          "lastModified": {
            "actor": "urn:li:corpuser:admin",
            "time": "2024-01-01T00:00:00Z"
          }
        },
        "globalTags": {
          "type": "versioned",
          "tags": [
            {
              "tag": "urn:li:tag:domain=customer",
              "associatedUrn": "urn:li:dataset:(mysql,customers,PROD)"
            },
            {
              "tag": "urn:li:tag:environment=production",
              "associatedUrn": "urn:li:dataset:(mysql,customers,PROD)"
            }
          ]
        },
        "datasetProfile": {
          "type": "timeseries",
          "rowCount": 1000000,
          "columnCount": 5,
          "sizeInBytes": 52428800,
          "lastModified": "2024-01-01T00:00:00Z",
          "partitionCount": 1
        }
      },
      "relationships": [
        {
          "type": "HAS_COLUMN",
          "target": "urn:li:dataset:(mysql,customers,PROD)#customer_id",
          "direction": "outgoing"
        },
        {
          "type": "HAS_COLUMN",
          "target": "urn:li:dataset:(mysql,customers,PROD)#first_name",
          "direction": "outgoing"
        },
        {
          "type": "HAS_COLUMN",
          "target": "urn:li:dataset:(mysql,customers,PROD)#last_name",
          "direction": "outgoing"
        },
        {
          "type": "HAS_COLUMN",
          "target": "urn:li:dataset:(mysql,customers,PROD)#email",
          "direction": "outgoing"
        },
        {
          "type": "HAS_COLUMN",
          "target": "urn:li:dataset:(mysql,customers,PROD)#created_at",
          "direction": "outgoing"
        },
        {
          "type": "TAGGED",
          "target": "urn:li:tag:domain=customer",
          "direction": "outgoing",
          "properties": {
            "source": "MANUAL"
          }
        },
        {
          "type": "TAGGED",
          "target": "urn:li:tag:environment=production",
          "direction": "outgoing",
          "properties": {
            "source": "AUTO"
          }
        },
        {
          "type": "UPSTREAM_OF",
          "target": "urn:li:dataset:(mysql,customer_analytics,PROD)",
          "direction": "outgoing",
          "properties": {
            "via": "data_processing_pipeline"
          }
        }
      ]
    },
    {
      "entity_type": "DataFlow",
      "urn": "urn:li:dataFlow:(airflow,customer_etl_pipeline,PROD)",
      "key": {
        "platform": "airflow",
        "flow_id": "customer_etl_pipeline",
        "namespace": "customer_analytics",
        "name": "Customer ETL Pipeline",
        "env": "PROD"
      },
      "aspects": {
        "dataFlowInfo": {
          "type": "versioned",
          "name": "Customer ETL Pipeline",
          "namespace": "customer_analytics",
          "description": "Extract, transform, and load customer data from source systems",
          "version": "1.0"
        }
      },
      "relationships": [
        {
          "type": "HAS_JOB",
          "target": "urn:li:dataJob:(urn:li:dataFlow:(airflow,customer_etl_pipeline,PROD),extract_customers)",
          "direction": "outgoing"
        },
        {
          "type": "HAS_JOB",
          "target": "urn:li:dataJob:(urn:li:dataFlow:(airflow,customer_etl_pipeline,PROD),transform_customers)",
          "direction": "outgoing"
        },
        {
          "type": "HAS_JOB",
          "target": "urn:li:dataJob:(urn:li:dataFlow:(airflow,customer_etl_pipeline,PROD),load_customers)",
          "direction": "outgoing"
        }
      ]
    },
    {
      "entity_type": "DataJob",
      "urn": "urn:li:dataJob:(urn:li:dataFlow:(airflow,customer_etl_pipeline,PROD),extract_customers)",
      "key": {
        "flow_urn": "urn:li:dataFlow:(airflow,customer_etl_pipeline,PROD)",
        "job_name": "extract_customers"
      },
      "aspects": {
        "dataJobInfo": {
          "type": "versioned",
          "name": "extract_customers",
          "namespace": "customer_analytics",
          "versionId": "1.0",
          "integration": "mysql",
          "processingType": "BATCH",
          "jobType": "EXTRACT",
          "description": "Extract customer data from source MySQL database"
        },
        "documentation": {
          "type": "versioned",
          "description": "Extracts customer data from source systems",
          "contentType": "text/markdown",
          "content": "# Customer Extract Job\n\nThis job extracts customer data from the source MySQL database..."
        },
        "sourceCodeLocation": {
          "type": "versioned",
          "type": "GITHUB",
          "url": "https://github.com/company/data-pipelines",
          "repo": "data-pipelines",
          "branch": "main",
          "path": "jobs/customer_etl/extract_customers.py"
        },
        "sourceCode": {
          "type": "versioned",
          "language": "python",
          "snippet": "def extract_customers():\n    # Extract customer data\n    query = 'SELECT * FROM customers'\n    return execute_query(query)",
          "fullCode": "import pandas as pd\nfrom sqlalchemy import create_engine\n\ndef extract_customers():\n    engine = create_engine('mysql://user:pass@host/db')\n    query = 'SELECT * FROM customers'\n    df = pd.read_sql(query, engine)\n    return df"
        },
        "environmentProperties": {
          "type": "versioned",
          "env": "PROD",
          "config": {
            "database_url": "mysql://prod_user:prod_pass@prod_host/prod_db",
            "batch_size": 10000,
            "timeout": 3600
          }
        },
        "ownership": {
          "type": "versioned",
          "owners": [
            {
              "owner": "urn:li:corpuser:jane.smith",
              "type": "DEVELOPER",
              "source": "MANUAL"
            }
          ],
          "lastModified": {
            "actor": "urn:li:corpuser:jane.smith",
            "time": "2024-01-01T00:00:00Z"
          }
        },
        "dataJobInputOutput": {
          "type": "versioned",
          "inputs": [
            "urn:li:dataset:(mysql,source_customers,PROD)"
          ],
          "outputs": [
            "urn:li:dataset:(mysql,customers,PROD)"
          ]
        },
        "dataJobRun": {
          "type": "timeseries",
          "eventType": "START",
          "runId": "run_12345",
          "parent": "urn:li:dataFlow:(airflow,customer_etl_pipeline,PROD)",
          "status": "RUNNING",
          "startTime": "2024-01-01T00:00:00Z",
          "endTime": null
        }
      },
      "relationships": [
        {
          "type": "CONSUMES",
          "target": "urn:li:dataset:(mysql,source_customers,PROD)",
          "direction": "outgoing"
        },
        {
          "type": "PRODUCES",
          "target": "urn:li:dataset:(mysql,customers,PROD)",
          "direction": "outgoing"
        },
        {
          "type": "OWNS",
          "target": "urn:li:corpuser:jane.smith",
          "direction": "incoming",
          "properties": {
            "via": "DEVELOPMENT"
          }
        }
      ]
    },
    {
      "entity_type": "CorpUser",
      "urn": "urn:li:corpuser:john.doe",
      "key": {
        "username": "john.doe"
      },
      "aspects": {
        "corpUserInfo": {
          "type": "versioned",
          "active": true,
          "displayName": "John Doe",
          "email": "john.doe@company.com",
          "title": "Senior Data Engineer",
          "department": "Data Engineering",
          "managerUrn": "urn:li:corpuser:jane.smith",
          "skills": ["Python", "SQL", "Airflow", "Neo4j"]
        },
        "ownership": {
          "type": "versioned",
          "owners": [
            {
              "owner": "urn:li:corpuser:john.doe",
              "type": "DATAOWNER",
              "source": "MANUAL"
            }
          ],
          "lastModified": {
            "actor": "urn:li:corpuser:admin",
            "time": "2024-01-01T00:00:00Z"
          }
        }
      },
      "relationships": [
        {
          "type": "OWNS",
          "target": "urn:li:dataset:(mysql,customers,PROD)",
          "direction": "outgoing",
          "properties": {
            "via": "DATAOWNER"
          }
        },
        {
          "type": "OWNS",
          "target": "urn:li:dataJob:(urn:li:dataFlow:(airflow,customer_etl_pipeline,PROD),extract_customers)",
          "direction": "outgoing",
          "properties": {
            "via": "DEVELOPMENT"
          }
        }
      ]
    },
    {
      "entity_type": "CorpGroup",
      "urn": "urn:li:corpGroup:data_engineering",
      "key": {
        "name": "data_engineering"
      },
      "aspects": {
        "corpGroupInfo": {
          "type": "versioned",
          "name": "Data Engineering",
          "description": "Data Engineering team responsible for data pipelines and infrastructure",
          "email": "data-engineering@company.com",
          "slackChannel": "#data-engineering"
        },
        "ownership": {
          "type": "versioned",
          "owners": [
            {
              "owner": "urn:li:corpGroup:data_engineering",
              "type": "DELEGATE",
              "source": "MANUAL"
            }
          ],
          "lastModified": {
            "actor": "urn:li:corpuser:admin",
            "time": "2024-01-01T00:00:00Z"
          }
        }
      },
      "relationships": [
        {
          "type": "OWNS",
          "target": "urn:li:dataset:(mysql,customers,PROD)",
          "direction": "outgoing",
          "properties": {
            "via": "DELEGATE"
          }
        },
        {
          "type": "OWNS",
          "target": "urn:li:dataJob:(urn:li:dataFlow:(airflow,customer_etl_pipeline,PROD),extract_customers)",
          "direction": "outgoing",
          "properties": {
            "via": "TEAM_OWNERSHIP"
          }
        }
      ]
    },
    {
      "entity_type": "Tag",
      "urn": "urn:li:tag:domain=customer",
      "key": {
        "key": "domain",
        "value": "customer"
      },
      "aspects": {},
      "relationships": [
        {
          "type": "TAGGED",
          "target": "urn:li:dataset:(mysql,customers,PROD)",
          "direction": "incoming"
        }
      ]
    },
    {
      "entity_type": "Tag",
      "urn": "urn:li:tag:environment=production",
      "key": {
        "key": "environment",
        "value": "production"
      },
      "aspects": {},
      "relationships": [
        {
          "type": "TAGGED",
          "target": "urn:li:dataset:(mysql,customers,PROD)",
          "direction": "incoming"
        }
      ]
    },
    {
      "entity_type": "Column",
      "urn": "urn:li:dataset:(mysql,customers,PROD)#customer_id",
      "key": {
        "dataset_urn": "urn:li:dataset:(mysql,customers,PROD)",
        "field_path": "customer_id"
      },
      "aspects": {
        "columnProperties": {
          "type": "versioned",
          "description": "Unique customer identifier",
          "dataType": "INTEGER",
          "nullable": false,
          "defaultValue": null
        },
        "transformation": {
          "type": "versioned",
          "inputColumns": ["urn:li:dataset:(mysql,source_customers,PROD)#id"],
          "steps": [
            {
              "step": 1,
              "operation": "RENAME",
              "description": "Rename id to customer_id"
            }
          ],
          "notes": "Primary key transformation",
          "sourceDataset": "urn:li:dataset:(mysql,source_customers,PROD)",
          "targetDataset": "urn:li:dataset:(mysql,customers,PROD)",
          "transformationType": "RENAME"
        }
      },
      "relationships": [
        {
          "type": "DERIVES_FROM",
          "target": "urn:li:dataset:(mysql,source_customers,PROD)#id",
          "direction": "outgoing",
          "properties": {
            "type": "RENAME",
            "subtype": "COLUMN_MAPPING",
            "description": "Renamed from id to customer_id",
            "transformation": "RENAME",
            "source_dataset": "urn:li:dataset:(mysql,source_customers,PROD)",
            "target_dataset": "urn:li:dataset:(mysql,customers,PROD)"
          }
        }
      ]
    },
    {
      "entity_type": "Column",
      "urn": "urn:li:dataset:(mysql,customers,PROD)#email",
      "key": {
        "dataset_urn": "urn:li:dataset:(mysql,customers,PROD)",
        "field_path": "email"
      },
      "aspects": {
        "columnProperties": {
          "type": "versioned",
          "description": "Customer email address",
          "dataType": "VARCHAR(100)",
          "nullable": false,
          "defaultValue": null
        },
        "transformation": {
          "type": "versioned",
          "inputColumns": ["urn:li:dataset:(mysql,source_customers,PROD)#email"],
          "steps": [
            {
              "step": 1,
              "operation": "VALIDATE",
              "description": "Validate email format"
            },
            {
              "step": 2,
              "operation": "CLEAN",
              "description": "Convert to lowercase"
            }
          ],
          "notes": "Email validation and cleaning",
          "sourceDataset": "urn:li:dataset:(mysql,source_customers,PROD)",
          "targetDataset": "urn:li:dataset:(mysql,customers,PROD)",
          "transformationType": "VALIDATION"
        }
      },
      "relationships": [
        {
          "type": "DERIVES_FROM",
          "target": "urn:li:dataset:(mysql,source_customers,PROD)#email",
          "direction": "outgoing",
          "properties": {
            "type": "TRANSFORM",
            "subtype": "VALIDATION_CLEANING",
            "description": "Email validation and cleaning transformation",
            "transformation": "VALIDATION",
            "source_dataset": "urn:li:dataset:(mysql,source_customers,PROD)",
            "target_dataset": "urn:li:dataset:(mysql,customers,PROD)"
          }
        }
      ]
    }
  ]
}
